(this.webpackJsonptikz_things=this.webpackJsonptikz_things||[]).push([[0],{66:function(t,e,n){},67:function(t,e,n){},68:function(t,e,n){},71:function(t,e,n){"use strict";n.r(e);var a=n(2),c=n.n(a),r=n(29),o=n.n(r),s=(n(66),n(10)),i=n(23),d=n(15),l=n(16),u=n(17),p=n(18),h=(n(67),n(68),n(0)),m=function(t){var e=t.onSwitchOn,n=t.onSwitchOff,a=t.defaultVal,c=void 0!==a&&a;return Object(h.jsxs)("label",{className:"switch",children:[Object(h.jsx)("input",{type:"checkbox",defaultChecked:c,onChange:function(t){return function(t){t.target.checked?e():n()}(t)}}),Object(h.jsx)("span",{className:"slider round"})]})},b=function(t){var e=t.onClick,n=t.label;return Object(h.jsx)("button",{type:"button",className:"cmd-buttons",onClick:e,children:n})},S=function(t){var e=t.codeStatements,n=t.currCodeStatement;console.log(e.length);var a=function(t){return t.map((function(t){var e=t.x,n=t.y;return"(".concat(e/10,",").concat(n/10,")")})).join(" ")};return Object(h.jsxs)("div",{className:"codefont",id:"code-output",children:["\\usetikzlibrary{hobby} %excellent drawing algorithm"," ",Object(h.jsx)("br",{}),"\\begin{tikzpicture}"," ",Object(h.jsx)("br",{}),e.map((function(t,e){return Object(h.jsx)("div",{style:{color:O[e]},children:"".concat(t.preamble," ").concat(a(t.points)," ").concat(t.end)},e)})),Object(h.jsx)("div",{style:{color:O[e.length]},children:"".concat(n.preamble," ").concat(a(n.points)," ").concat(n.end)},e.length),"\\end{tikzpicture}"]})},g=n(9),x=n(1),j=function(t){Object(u.a)(n,t);var e=Object(p.a)(n);function n(){var t;Object(d.a)(this,n);for(var a=arguments.length,c=new Array(a),r=0;r<a;r++)c[r]=arguments[r];return(t=e.call.apply(e,[this].concat(c))).componentDidUpdate=function(e){e.theme!==t.props.theme&&(x.e("#x-axis").attr("class","".concat(t.props.theme,"-axis")),x.e("#y-axis").attr("class","".concat(t.props.theme,"-axis")))},t.handleMouseOver=function(e,n){x.e(e.target).attr("r",6),x.e("svg").append("text").attr("id","t".concat(n.x,"-").concat(n.y,"-").concat(x.e("svg").nodes().indexOf(Object(g.a)(t)))).attr("x",(function(){return t.xScale(n.x)-30})).attr("y",(function(){return t.yScale(n.y)-15})).attr("class","".concat(t.props.theme)).text((function(){return[n.x,n.y]}))},t.handleMouseOut=function(e,n){x.e(e.target).attr("r",3),x.e("#t".concat(n.x,"-").concat(n.y,"-").concat(x.e("svg").nodes().indexOf(Object(g.a)(t)))).remove()},t.handleSvgClick=function(e,n,a){if(console.log("click"),""!==t.props.currCodeStatement.preamble){var c=x.c(e),r={x:Math.round(t.xScale.invert(c[0])),y:Math.round(t.yScale.invert(c[1]))};t.props.updateCodeStatement(r),n.selectAll(".circle-fig_".concat(t.props.onFigure)).data(t.props.currCodeStatement.points).enter().append("circle").attr("cx",a.cx).attr("cy",a.cy).attr("r",a.r).attr("fill",t.props.figColor).attr("class","circle-fig_".concat(t.props.onFigure)).on("mouseover",t.handleMouseOver).on("mouseout",t.handleMouseOut)}},t}return Object(l.a)(n,[{key:"componentDidMount",value:function(){var t=this,e=this.props.initializeSvg(),n=e.svg,a=e.svgDim,c=e.xScale,r=e.yScale;this.xScale=c,this.yScale=r;var o=x.a().scale(this.xScale),s=x.b().scale(this.yScale),i={cx:function(e){return t.xScale(e.x)},cy:function(e){return t.yScale(e.y)},r:3,fill:this.props.figColor};n.append("g").attr("class","".concat(this.props.theme,"-axis")).attr("transform","translate(".concat([y,a-v],")")).attr("id","x-axis").call(o),n.append("g").attr("class","".concat(this.props.theme,"-axis")).attr("transform","translate(".concat([y,f],")")).attr("id","y-axis").call(s),n.on("click",(function(e){return t.handleSvgClick(e,n,i)}))}},{key:"render",value:function(){return Object(h.jsx)("div",{style:{flex:"1",padding:"30px"},id:"plotWrapper",children:Object(h.jsx)("div",{id:"canvas"})})}}]),n}(a.Component),f=10,v=30,y=30,O=["rgb(50, 149, 237)","rgb(51, 88, 255)","rgb(172, 18, 255)","rgb(255, 0, 0)","rgb(255, 144, 0)","rgb(0, 196, 3)","rgb(51, 204, 255)","rgb(0, 102, 153)","rgb(255, 0, 238)","rgb(50, 149, 237)"],C={statementType:"",preamble:"",points:[],end:""},k=function(t){Object(u.a)(n,t);var e=Object(p.a)(n);function n(){var t;Object(d.a)(this,n);for(var a=arguments.length,c=new Array(a),r=0;r<a;r++)c[r]=arguments[r];return(t=e.call.apply(e,[this].concat(c))).state={theme:"light",codeStatements:[],currCodeStatement:C,onFigure:0},t.initializeSvg=function(){var e=document.getElementById("plotWrapper").getBoundingClientRect(),n=Math.min(e.right,e.bottom)-150;return t.xScale=x.d().domain([0,100]).range([0,n-y-10]),t.yScale=x.d().domain([0,100]).range([n-f-v,0]),{svg:x.e("#canvas").append("svg").attr("width",n).attr("height",n),svgDim:n,xScale:t.xScale,yScale:t.yScale}},t.createCodeStatement=function(e){if(t.state.currCodeStatement!==C){if("draw"==t.state.currCodeStatement.statementType)for(var n=t.state.currCodeStatement.points,a=0;a<n.length;a++)a==n.length-1?x.e("svg").append("line").style("stroke",O[t.state.onFigure]).style("stroke-width",1).attr("x1",t.xScale(n[0].x)).attr("y1",t.yScale(n[0].y)).attr("x2",t.xScale(n[a].x)).attr("y2",t.yScale(n[a].y)):x.e("svg").append("line").style("stroke",O[t.state.onFigure]).style("stroke-width",1).attr("x1",t.xScale(n[a].x)).attr("y1",t.yScale(n[a].y)).attr("x2",t.xScale(n[a+1].x)).attr("y2",t.yScale(n[a+1].y));var c=Object(i.a)(t.state.codeStatements);c.push(t.state.currCodeStatement),t.setState({codeStatements:c,currCodeStatement:C,onFigure:t.state.onFigure+1})}"draw"===e?t.setState({currCodeStatement:{statementType:"draw",preamble:"\\draw plot[closed hobby] coordinates { \n\n\n",points:[],end:"};\n"}}):"node"===e&&t.setState({currCodeStatement:{statementType:"node",preamble:"\\node at ",points:[],end:"{};\n"}})},t.updateCodeStatement=function(e){var n=Object(i.a)(t.state.currCodeStatement.points);n.push(e),t.setState({currCodeStatement:Object(s.a)(Object(s.a)({},t.state.currCodeStatement),{},{points:n})}),console.log("updated points",t.state)},t.redoCurrentStatement=function(){x.e("svg").selectAll(".circle-fig_".concat(t.state.onFigure)).remove(),t.setState({currCodeStatement:Object(s.a)(Object(s.a)({},t.state.currCodeStatement),{},{points:[]})})},t}return Object(l.a)(n,[{key:"render",value:function(){var t=this;return Object(h.jsxs)("div",{className:"App ".concat(this.state.theme),children:[Object(h.jsx)("div",{id:"text-heading",children:Object(h.jsxs)("div",{id:"description",children:["Simple Canvas For Control Points",Object(h.jsxs)("p",{id:"sub_description",children:['Before you can draw, you need to select a code statement. Select "add ',Object(h.jsx)("span",{className:"codefont",children:"\\draw"}),'" to create a TikZ ',Object(h.jsx)("span",{className:"codefont",children:"\\draw"}),' statement. "add ',Object(h.jsx)("span",{className:"codefont",children:"\\node"}),'" works similarly.']})]})}),Object(h.jsxs)("div",{id:"main-body-parent",children:[Object(h.jsx)(j,{initializeSvg:this.initializeSvg,figColor:O[this.state.onFigure],currCodeStatement:this.state.currCodeStatement,updateCodeStatement:this.updateCodeStatement,theme:this.state.theme,onFigure:this.state.onFigure}),Object(h.jsxs)("div",{className:"button-and-code",children:[Object(h.jsxs)("div",{style:{width:"100%"},children:[Object(h.jsx)(b,{onClick:function(){return t.createCodeStatement("draw")},label:"Add \\draw"}),Object(h.jsx)(b,{onClick:function(){return t.createCodeStatement("node")},label:"Add \\node"}),Object(h.jsx)(b,{onClick:this.redoCurrentStatement,label:"Redo Current Statement"}),Object(h.jsxs)("div",{id:"theme-selection",children:[Object(h.jsx)(m,{onSwitchOn:function(){t.setState({theme:"dark"})},onSwitchOff:function(){t.setState({theme:"light"})}}),Object(h.jsx)("p",{children:" Dark Mode "})]})]}),Object(h.jsx)(S,{codeStatements:this.state.codeStatements,currCodeStatement:this.state.currCodeStatement})]})]})]})}}]),n}(a.Component),w=function(t){t&&t instanceof Function&&n.e(3).then(n.bind(null,72)).then((function(e){var n=e.getCLS,a=e.getFID,c=e.getFCP,r=e.getLCP,o=e.getTTFB;n(t),a(t),c(t),r(t),o(t)}))};o.a.render(Object(h.jsx)(c.a.StrictMode,{children:Object(h.jsx)(k,{})}),document.getElementById("root")),w()}},[[71,1,2]]]);
//# sourceMappingURL=main.f17dbe46.chunk.js.map